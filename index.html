<!DOCTYPE html>
<html lang="pt-br" data-theme="light">

<head>
  <!-- Meta básicos -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Easy Reg – Vistorias Ágeis</title>
  <meta name="description"
    content="Assessoria e comércio eletrônico: vistorias ágeis, atendimento humano e loja online em um só lugar." />
  <meta name="theme-color" content="#0c1e26" />
  <meta name="format-detection" content="telephone=no" />
  <link rel="icon" href="./favicon.ico" />

  <!-- Open Graph / Twitter (para compartilhamento) -->
  <meta property="og:title" content="Easy Reg – Vistorias Ágeis" />
  <meta property="og:description" content="Assessoria e comércio eletrônico com atendimento ágil." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://easyreg.example/" />
  <meta property="og:image" content="/og-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Font Awesome 6 -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />



  <!-- CSS base com temas -->
   <link rel="stylesheet" href="theme.css">

  <!-- JSON-LD simples para SEO local (ajuste os dados reais) -->
  <!--  custom.js -->

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="assets/css/cookie-consent.css">
  <link rel="stylesheet" href="assets/css/cookie.css">

  <style>
    /* ======= Produtos (cards lado a lado) ======= */
    .featured .grid {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: stretch;
    }
    .product {
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 14px;
      overflow: hidden;
      background: #fff;
      box-shadow: 0 1px 6px rgba(0,0,0,.04);
      width: 250px;
      max-width: 100%;
      display: flex;
      flex-direction: column;
    }
    .product .media {
      position: relative;
      width: 100%;
      height: 180px;
      background: #f1f5f9;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .product .media img {
      max-width: 150px;
      max-height: 150px;
      width: auto;
      height: auto;
      object-fit: contain;
      display: block;
      background: transparent;
    }
    .product .media.noimg::before {
      content: "\f03e";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      font-size: 32px;
      color: #94a3b8;
    }
    .product .info { padding: 12px; display:flex; flex-direction:column; gap:8px; }
    .product h3 { font-size: 15px; margin: 0; line-height: 1.3; }
    .brand-stock { display: flex; gap: 6px; color: #667; align-items:center; flex-wrap: wrap; }
    .brand-stock .brand,
    .brand-stock .stock,
    .brand-stock .stock.ok,
    .brand-stock .stock.oos {
      border: 1px solid #e6edf7;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 12px;
      line-height: 1.2;
      background: #f8fbff;
    }
    .brand-stock .oos { color: #a33; background: #fff6f6; border-color: #f0caca; }
    .price { font-weight: 800; margin: 0; }
    .actions { display: flex; gap: 8px; margin-top: 4px; }
    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 8px 10px; border-radius: 10px; border: 1px solid #cfe3f8; background: #f5faff; text-decoration: none; color: #0c3b66; cursor: pointer; }
    .btn.primary { background: #188ae2; border-color: #188ae2; color: #fff; }
    .section-title { display: flex; align-items: baseline; justify-content: space-between; margin: 8px 0 12px; }

    /* ======= Vitrine (carrossel 1 item, 70% width, autoplay) ======= */
    .showcase .carousel {
      position: relative;
      overflow: hidden;
      border-radius: 14px;
      background: transparent;
      width: 70vw;
      margin: 0 auto;
    }
    .showcase .track {
      display: flex;
      width: 100%;
      transition: transform .4s ease;
    }
    .showcase .slide {
      flex: 0 0 100%;
      position: relative;
      height: 360px;
      background: #f1f5f9;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .showcase .slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .showcase .slide.noimg::before {
      content: "\f03e";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      font-size: 42px;
      color: #94a3b8;
    }
    .showcase .badge-price {
      position: absolute;
      right: 10px;
      bottom: 10px;
      padding: 6px 10px;
      border-radius: 10px;
      background: rgba(24,138,226,.92);
      color: #fff;
      font-weight: 800;
      font-size: 14px;
      box-shadow: 0 6px 16px rgba(0,0,0,.18);
      display: inline-flex;
      gap: 8px;
      align-items: center;
      max-width: 75%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .showcase .badge-title { font-weight: 600; opacity: .95; }
    .showcase .price-line {
      text-align: right;
      font-weight: 800;
      margin: 6px 4px 0 0;
      color: #0b1f3a;
    }
    .showcase .controls {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      pointer-events: none;
      padding: 0 4px;
    }
    .showcase .ctrl {
      pointer-events: all;
      border: none;
      border-radius: 999px;
      width: 36px;
      height: 36px;
      background: rgba(0,0,0,.35);
      color: #fff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
  
/* override chips menores */
.brand-stock { display:flex; gap:4px; color:#667; align-items:center; flex-wrap:wrap; }
.brand-stock .brand,
.brand-stock .stock,
.brand-stock .stock.ok,
.brand-stock .stock.oos { border:1px solid #eef3fa; padding:1px 4px; border-radius:6px; font-size:11px; line-height:1.1; background:#f9fbff; }
</style>
</head>

<body>


  <!-- Topbar -->
  <div class="topbar" role="region" aria-label="Informações e atalhos">
    <div class="container topbar-inner">
      <p>A melhor assessoria e comércio eletrônico pra você em um só local.</p>
      <nav class="links" aria-label="Atalhos rápidos">
        <a class="chip" href="./loja" aria-label="Abrir a loja online">
          <i class="fa-solid fa-store" aria-hidden="true"></i>
          <span>Loja</span>
        </a>
        <a class="chip" href="https://wa.me/message/MNU27I5VFP2CD1" target="_blank" rel="noopener">
          <i class="fa-solid fa-headset" aria-hidden="true"></i>
          <span>Atendimento</span>
        </a>
      </nav>
    </div>
  </div>

  <!-- Header principal -->

  <header class="site-header centauro-like">
    <div class="utilbar">
      <div class="container util-row">
        <nav class="util-left" aria-label="Links rápidos">
          <a href="./acessibilidade">Acessibilidade</a>
          <a href="./blog">Blog</a>
          <a href="./trocas">Troca e Devolução</a>
        </nav>
        <nav class="util-right" aria-label="Ações">
          <a href="./atendimento"><i class="fa-regular fa-circle-question"></i> Duvidas?</a>
          <a href="./empresas"><i class="fa-regular fa-building"></i> Empresas</a>
        </nav>
      </div>
    </div>
    <div class="mainbar">
      <div class="container bar-row">
        <a class="brand-link" href="/" aria-label="Easy Reg">
          <img class="brand-logo" src="assets/images/easyreg-logo.webp" alt="Easy Reg" width="40" height="40">
          <strong class="brand-name">Easy Reg</strong>
        </a>
        <form class="search search-hero" action="/loja" method="get" role="search" aria-label="Buscar produtos">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input type="search" name="q" placeholder="O que você procura?" maxlength="100" inputmode="search"
            pattern="^[\p{L}\p{N}\s\-_,\.]{1,100}$" title="Use letras, números e espaços" autocomplete="on" />
          <button type="submit" aria-label="Buscar">Buscar</button>
        </form>
        <div class="quick-icons">
          <a href="./entrar" title="Entrar"><i class="fa-regular fa-user"></i></a>
          <a href="./favoritos" title="Favoritos"><i class="fa-regular fa-heart"></i></a>
          <a href="./carrinho" title="Carrinho"><i class="fa-solid fa-cart-shopping"></i></a>
        </div>
      </div>
    </div>
    <nav id="categoryBar" class="category-bar" aria-label="Categorias">
      <div class="container">
        <ul class="cat-list">
          <li class="cat-item has-mega">
            <button class="cat-btn" aria-expanded="false">Vistorias</button>
            <div class="mega-panel">
              <div class="mega-col">
                <h4>Serviços</h4>
                <a href="/loja?q=vistoria+veicular">Vistoria Veicular</a>
                <a href="/loja?q=laudo">Laudos</a>
                <a href="/loja?q=pericia">Perícia</a>
              </div>
              <div class="mega-col">
                <h4>Agilidade</h4>
                <a href="/loja?q=express">Express</a>
                <a href="/loja?q=domiciliar">Domiciliar</a>
                <a href="/loja?q=corporativo">Corporativo</a>
              </div>
              <div class="mega-col highlight">
                <h4>Destaque</h4>
                <a class="promo" href="/loja?q=promo">Ofertas da semana</a>
              </div>
            </div>
          </li>
          <li class="cat-item"><a class="cat-link" href="/loja?q=assessoria">Assessoria</a></li>
          <li class="cat-item"><a class="cat-link" href="/loja?q=acessorios">Acessórios</a></li>
          <li class="cat-item"><a class="cat-link" href="/loja?q=planos">Planos</a></li>
          <li class="cat-item"><a class="cat-link" href="/loja?q=outlet">Outlet</a></li>
        </ul>
      </div>
    </nav>
  </header>


  <main class="container" id="conteudo">
  <!-- Vitrine (dinâmico via /api/showcase.php) -->
  <section class="showcase" aria-labelledby="show-title" style="margin-top:28px;">
    <div class="section-title">
      <h2 id="show-title">Vitrine</h2>
    </div>
    <div class="carousel" id="showcaseCarousel" aria-roledescription="carousel">
      <div class="track" id="showcaseTrack" tabindex="0" aria-label="Carrossel de vitrine"></div>
      <div class="controls" aria-hidden="false">
        <button class="ctrl" id="showcasePrev" aria-label="Anterior"><i class="fa-solid fa-chevron-left"></i></button>
        <button class="ctrl" id="showcaseNext" aria-label="Próximo"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
    </div>
  </section>
<!-- Serviços -->

    <section class="services" aria-labelledby="srv-title">
      <h2 id="srv-title">Nossos serviços</h2>
      <div class="grid" style="margin-top:16px;">
        <article class="card">
          <h3><a href="https://wa.me/message/MNU27I5VFP2CD1"><i class="fa-solid fa-clipboard-check"></i> Vistorias</h3>
          <p>Laudos rápidos e claros, com envio digital.</p></a>
        </article>
        <article class="card">
          <h3><a href="https://wa.me/message/MNU27I5VFP2CD1"><i class="fa-solid fa-shield-halved"></i> Assessoria</h3>
          <p>Suporte completo no processo e documentação.</p></a>
        </article>
        <article class="card">
          <h3><a href="./loja"><i class="fa-solid fa-store"></i> Loja</h3>
          <p>Itens e soluções para o seu dia a dia, 100% online.</p></a>
        </article>
      </div>
    </section>

    <!--Marcas-->
    <section class="brands" role="region" aria-roledescription="carousel" aria-label="Marcas de montadoras">
      <div class="brands__header">
        <h2 class="brands__title">Marcas</h2>
        <p class="brands__subtitle">em nosso catálogo!</p>
      </div>



      
      </div>
    </section>

    <link rel="stylesheet" href="assets/css/brands-carousel.css">
    <script defer src="assets/js/brands-carousel.e661c069.js"></script>



    <!-- Produtos em destaque (exemplos estáticos) -->
    <section class="featured" aria-labelledby="feat-title">
      <h2 id="feat-title">Produtos em destaque</h2>
      <div id="productsGrid" class="grid" style="margin-top:16px;"></div>
    </section>
  </main>

  <!-- Botão WhatsApp flutuante -->
  <a class="whatsapp-button" href="https://wa.me/message/MNU27I5VFP2CD1" target="_blank" rel="noopener"
    aria-label="Falar no WhatsApp">
    <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
    <span>WhatsApp</span>
  </a>

  <!-- Cookie/Consent Banner (carrega analytics somente após consentimento) -->
  <div id="cookieBanner" class="cookie-banner" role="dialog" aria-live="polite" aria-label="Consentimento de cookies">
    <div>
      Usamos cookies para métricas anônimas. Ao aceitar, ativamos as medições.
    </div>
    <div style="display:flex; gap:8px;">
      <button class="btn" id="cookieDecline">Agora não</button>
      <button class="btn primary" id="cookieAccept">Aceitar</button>
    </div>
  </div>

  <!-- JS mínimo para tema, slider, consentimento e analytics -->
  <script>
    (function () {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) { root.setAttribute('data-theme', savedTheme); themeLabel.textContent = 'Tema: ' + (savedTheme === 'dark' ? 'escuro' : 'claro'); }
      themeToggle.addEventListener('click', () => {
        const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
        themeLabel.textContent = 'Tema: ' + (next === 'dark' ? 'escuro' : 'claro');
      });

      // ===== Slider acessível =====
      const track = document.getElementById('track');
      const dotsWrap = document.getElementById('dots');
      const slides = Array.from(track.children);
      const prev = document.getElementById('prev');
      const next = document.getElementById('next');
      const viewport = document.getElementById('viewport');
      let index = 0; let timer = null; const AUTOPLAY_MS = 5000;

      slides.forEach((_, i) => {
        const b = document.createElement('button');
        b.className = 'dot'; b.setAttribute('role', 'tab'); b.setAttribute('aria-label', 'Ir para o slide ' + (i + 1));
        b.addEventListener('click', () => go(i)); dotsWrap.appendChild(b);
      });

      function update() {
        track.style.transform = `translateX(-${index * 100}%)`;
        [...dotsWrap.children].forEach((d, i) => d.setAttribute('aria-current', i === index));
      }
      function go(i) { index = (i + slides.length) % slides.length; update(); resetAutoplay(); }
      function nextSlide() { go(index + 1); }
      function prevSlide() { go(index - 1); }

      next.addEventListener('click', nextSlide); prev.addEventListener('click', prevSlide);
      document.addEventListener('keydown', (e) => { if (e.key === 'ArrowRight') nextSlide(); if (e.key === 'ArrowLeft') prevSlide(); });

      // Swipe
      let startX = 0; let dx = 0;
      viewport.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; dx = 0; }, { passive: true });
      viewport.addEventListener('touchmove', (e) => { dx = e.touches[0].clientX - startX; }, { passive: true });
      viewport.addEventListener('touchend', () => { if (Math.abs(dx) > 50) { dx < 0 ? nextSlide() : prevSlide(); } });

      function resetAutoplay() { if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return; clearInterval(timer); timer = setInterval(nextSlide, AUTOPLAY_MS); }
      window.addEventListener('load', () => { update(); resetAutoplay(); });

      // ===== Cookie consent + Analytics =====
      const banner = document.getElementById('cookieBanner');
      const accepted = localStorage.getItem('cookie_consent') === 'true';
      if (!accepted) { banner.classList.add('show'); }

      document.getElementById('cookieAccept').addEventListener('click', () => {
        localStorage.setItem('cookie_consent', 'true'); banner.classList.remove('show');
        enableAnalytics();
      });
      document.getElementById('cookieDecline').addEventListener('click', () => { banner.classList.remove('show'); });

      if (accepted) { enableAnalytics(); }

      function enableAnalytics() {
        // === GA4 (substitua G-XXXX por seu ID) com anonimização de IP ===
        // const ga = document.createElement('script'); ga.async = true; ga.src = 'https://www.googletagmanager.com/gtag/js?id=G-XXXX'; document.head.appendChild(ga);
        // window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-XXXX', { 'anonymize_ip': true });

        // === Matomo (exemplo self-hosted) com anonimização de IP ===
        // var _paq = window._paq = window._paq || []; _paq.push(['trackPageView']); _paq.push(['enableLinkTracking']); _paq.push(['setDoNotTrack', true]); _paq.push(['requireCookieConsent']); _paq.push(['setCookieConsentGiven']); _paq.push(['anonymizeIp']);
        // (function(){ var u="https://matomo.seudominio/"; _paq.push(['setTrackerUrl', u+'matomo.php']); _paq.push(['setSiteId', '1']); var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s); })();
      }
    })();

    // ===== Menu hamburger =====
    const menuToggle = document.getElementById('menuToggle');
    const nav = document.getElementById('siteNav');
    if (menuToggle && nav) {
      menuToggle.addEventListener('click', () => {
        const open = nav.classList.toggle('open');
        menuToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
    }

    // ===== Busca (GET /loja?q=...) =====
    const searchForm = document.querySelector('form.search');
    if (searchForm) {
      searchForm.addEventListener('submit', (e) => {
        const q = (searchForm.querySelector('[name="q"]').value || '').trim();
        if (!q) { e.preventDefault(); }
      });
    }


    // ===== Slider (carrossel) =====
    const track = document.getElementById('track');
    const dots = document.getElementById('dots');
    const slides = track ? Array.from(track.children) : [];
    const btnNext = document.getElementById('next');
    const btnPrev = document.getElementById('prev');
    const viewport = document.getElementById('viewport');
    let idx = 0, timer = null;
    if (slides.length) {
      slides.forEach((_, i) => { const b = document.createElement('button'); b.className = 'dot'; b.addEventListener('click', () => go(i)); dots.appendChild(b); });
      function update() { track.style.transform = `translateX(-${idx * 100}%)`;[...dots.children].forEach((d, i) => d.setAttribute('aria-current', i === idx)); }
      function go(i) { idx = (i + slides.length) % slides.length; update(); reset(); }
      function next() { go(idx + 1); } function prev() { go(idx - 1); }
      btnNext && btnNext.addEventListener('click', next);
      btnPrev && btnPrev.addEventListener('click', prev);
      // swipe
      let sx = 0, dx = 0;
      viewport && viewport.addEventListener('touchstart', e => { sx = e.touches[0].clientX; dx = 0; }, { passive: true });
      viewport && viewport.addEventListener('touchmove', e => { dx = e.touches[0].clientX - sx; }, { passive: true });
      viewport && viewport.addEventListener('touchend', () => { if (Math.abs(dx) > 50) { dx < 0 ? next() : prev(); } });
      function reset() { if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return; clearInterval(timer); timer = setInterval(next, 5000); }
      window.addEventListener('load', () => { update(); reset(); });
    }


    // ===== Hardening da busca =====
    if (searchForm) {
      searchForm.addEventListener('submit', (e) => {
        const input = searchForm.querySelector('[name="q"]');
        let q = (input.value || '').trim();
        if (!q) { e.preventDefault(); return; }
        // normaliza espaços e limita tamanho
        q = q.replace(/\s+/g, ' ').slice(0, 100);
        // aplica ao action com encoding seguro (mantém método GET padrão)
        searchForm.action = '/loja';
        input.value = q; // servidor deve validar novamente
      });
    }


    // ===== Busca (hardening) =====
    const heroSearch = document.querySelector('form.search-hero');
    if (heroSearch) {
      heroSearch.addEventListener('submit', (e) => {
        const input = heroSearch.querySelector('[name="q"]');
        let q = (input.value || '').trim().replace(/\s+/g, ' ').slice(0, 100);
        if (!q) { e.preventDefault(); return; }
        input.value = q;
        heroSearch.action = '/loja';
      });
    }
    document.querySelectorAll('.cat-item.has-mega .cat-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const li = e.currentTarget.closest('.cat-item');
        const isMobile = window.matchMedia('(max-width: 860px)').matches;
        if (isMobile) {
          li.classList.toggle('open');
          btn.setAttribute('aria-expanded', li.classList.contains('open'));
        }
      });
    });


    // ===== Produtos em destaque (client-side) =====
    (async function () {
      const grid = document.getElementById('featuredGrid') || document.querySelector('.featured .grid');
      if (!grid) return;
      try {
        const res = await fetch('/assets/data/products.json', { cache: 'no-store' });
        if (!res.ok) throw new Error('fail');
        const items = await res.json();
        grid.innerHTML = items.map(p => `
      <article class="product">
        <img src="${p.img}" alt="${p.title}">
        <div class="info">
          <h3>${p.title}</h3>
          <div class="price">R$ ${p.price.toFixed(2).replace('.', ',')}</div>
          <div class="actions">
            <a class="btn primary" href="${p.url}"><i class="fa-solid fa-bag-shopping"></i> Comprar</a>
            <a class="btn" href="/loja?q=${encodeURIComponent(p.title)}"><i class="fa-solid fa-magnifying-glass"></i> Ver</a>
          </div>
        </div>
      </article>
    `).join('');
      } catch (e) { }
    })();

    // ===== Slider (banners) =====
    (function () {
      const viewport = document.getElementById('viewport');
      const track = document.getElementById('track');
      const dots = document.getElementById('dots');
      if (!viewport || !track || !dots) return;
      const slides = Array.from(track.children);
      let index = 0, timer = null;
      slides.forEach((_, i) => {
        const b = document.createElement('button');
        b.className = 'dot'; b.setAttribute('aria-label', 'Ir para slide ' + (i + 1));
        b.addEventListener('click', () => go(i)); dots.appendChild(b);
      });
      function update() { track.style.transform = `translateX(-${index * 100}%)`;[...dots.children].forEach((d, i) => d.setAttribute('aria-current', i === index)); }
      function go(i) { index = (i + slides.length) % slides.length; update(); reset(); }
      function next() { go(index + 1); } function prev() { go(index - 1); }
      document.getElementById('next')?.addEventListener('click', next);
      document.getElementById('prev')?.addEventListener('click', prev);
      let startX = 0, dx = 0; viewport.addEventListener('touchstart', e => { startX = e.touches[0].clientX; dx = 0; }, { passive: true });
      viewport.addEventListener('touchmove', e => { dx = e.touches[0].clientX - startX; }, { passive: true });
      viewport.addEventListener('touchend', () => { if (Math.abs(dx) > 50) { dx < 0 ? next() : prev(); } });
      function reset() { if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return; clearInterval(timer); timer = setInterval(next, 5000); }
      window.addEventListener('load', () => { update(); reset(); });
    })();

    // ===== Cookie banner =====
    (function () {
      const banner = document.getElementById('cookieBanner');
      if (!banner) return;
      const accepted = localStorage.getItem('cookie_consent') === 'true';
      if (!accepted) { banner.classList.add('show'); }
      document.getElementById('cookieAccept')?.addEventListener('click', () => {
        localStorage.setItem('cookie_consent', 'true'); banner.classList.remove('show');
      });
      document.getElementById('cookieDecline')?.addEventListener('click', () => { banner.classList.remove('show'); });
    })();

    // ===== Brands carousel: autoplay + A11y =====
    (function () {
      const track = document.getElementById('brandTrack');
      const prev = document.getElementById('brandPrev');
      const next = document.getElementById('brandNext');
      if (!track || !prev || !next) return;
      const step = 220; // px
      let timer = null;
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      function scrollStep(dir = 1) {
        track.scrollBy({ left: dir * step, behavior: prefersReduced ? 'auto' : 'smooth' });
        if (track.scrollLeft + track.clientWidth + 4 >= track.scrollWidth) { track.scrollTo({ left: 0, behavior: 'auto' }); }
        if (track.scrollLeft <= 0 && dir < 0) { track.scrollTo({ left: track.scrollWidth - track.clientWidth, behavior: 'auto' }); }
      }
      prev.addEventListener('click', () => scrollStep(-1));
      next.addEventListener('click', () => scrollStep(1));
      track.addEventListener('keydown', (e) => { if (e.key === 'ArrowRight') { e.preventDefault(); scrollStep(1); } if (e.key === 'ArrowLeft') { e.preventDefault(); scrollStep(-1); } });
      function start() { if (prefersReduced) return; clearInterval(timer); timer = setInterval(() => scrollStep(1), 3000); }
      function stop() { clearInterval(timer); }
      ['mouseenter', 'focusin', 'touchstart'].forEach(ev => track.addEventListener(ev, stop, { passive: true }));
      ['mouseleave', 'focusout', 'touchend'].forEach(ev => track.addEventListener(ev, start, { passive: true }));
      ['mouseenter', 'focusin', 'touchstart'].forEach(ev => prev.addEventListener(ev, stop, { passive: true }));
      ['mouseleave', 'focusout', 'touchend'].forEach(ev => prev.addEventListener(ev, start, { passive: true }));
      ['mouseenter', 'focusin', 'touchstart'].forEach(ev => next.addEventListener(ev, stop, { passive: true }));
      ['mouseleave', 'focusout', 'touchend'].forEach(ev => next.addEventListener(ev, start, { passive: true }));
      start();
    })();

    // ===== Visitors banner (oscillating 80–230) =====
    (function () {
      const el = document.querySelector('[data-visitors]');
      if (!el) return;
      const MIN = 89, MAX = 177;
      const jitter = () => Math.floor(Math.random() * (MAX - MIN + 1)) + MIN;
      const render = (n) => el.textContent = n.toString();
      let current = jitter();
      render(current);

      // muda de 10 a 20s, com pequenos passos
      const tick = () => {
        const delta = Math.random() < 0.5 ? -1 : 1;
        current = Math.min(MAX, Math.max(MIN, current + delta));
        render(current);
        const next = Math.floor(10000 + Math.random() * 10000);
        setTimeout(tick, next);
      };
      setTimeout(tick, 12000);

      // atualiza quando a aba volta a ficar ativa
      document.addEventListener('visibilitychange', () => {
        if (!document.hidden) { current = jitter(); render(current); }
      });
    })();
  </script>
  <footer class="site-footer">
    <div class="container footer-grid">
      <section class="footer-about">
        <h3>Easy Reg</h3>
        <p>Referência em vistorias e assessoria. Atendimento humano e ágil, com presença digital e suporte em todo o
          Brasil.</p>
        <img class="nps" src="assets/img/nps-badge.svg" alt="Selo de recomendação" width="160" height="160">
        <div class="payments">
          <i class="fa-brands fa-cc-visa" title="Visa"></i>
          <i class="fa-brands fa-cc-mastercard" title="Mastercard"></i>
          <i class="fa-brands fa-cc-amex" title="Amex"></i>
          <i class="fa-brands fa-cc-apple-pay" title="Apple Pay"></i>
          <span class="pix">PIX</span>
        </div>
      </section>
      <section class="footer-col">
        <h4>Informações</h4>
        <ul>
          <li><a href="./lojas">Lojas</a></li>
          <li><a href="./sobre">Sobre Nós</a></li>
          <li><a href="./privacidade">Política de Privacidade</a></li>
          <li><a href="./trabalhe-conosco">Trabalhe Conosco</a></li>
          <li><a href="./blog">Blog</a></li>
          <li><a href="./mapa-do-site">Mapa do site</a></li>
        </ul>
      </section>
      <section class="footer-col">
        <h4>Ajuda</h4>
        <ul>
          <li><a href="./conta">Minha Conta</a></li>
          <li><a href="./entregas">Entregas e Retiradas</a></li>
          <li><a href="./pagamentos">Pagamentos e Reembolsos</a></li>
          <li><a href="./trocas">Trocas e Devoluções</a></li>
          <li><a href="./faq">Perguntas Frequentes</a></li>
          <li><a href="./frete">Regulamento de Frete</a></li>
        </ul>
      </section>
      <section class="footer-contact">
        <h4>Fale Conosco</h4>
        <p>Suporte de segunda a sábado, 8h–22h. Domingos e feriados, 8h–16h.</p>
        <p><i class="fa-solid fa-phone"></i> (11) 98931-7332</p>
        <p><i class="fa-regular fa-envelope"></i> contato@easyreg.com.br</p>
        <div class="social">
          <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
          <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
          <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
          <a href="#" aria-label="YouTube"><i class="fa-brands fa-youtube"></i></a>
        </div>
        <address>Rua São Quirino 36, São Paulo, SP, 02056-070</address>
      </section>
    </div>
    <div class="footnote">
      <div class="container">
        <p>Copyright © <span id="year"></span> Easy Reg. Todos os direitos reservados.</p>
        <p class="powered">Desenvolvido por Easy Reg</p>
      </div>
    </div>
  </footer>


  <div class="visitors-banner" aria-live="polite" aria-label="Visitantes online">
    <span class="dot" aria-hidden="true"></span>
    <span><strong data-visitors></strong> usuários online</span>
  </div>
  <script defer src="assets/js/visitors-counter.62239c20.js"></script>

  <script src="assets/js/brands-carousel.js"></script>
  <script src="assets/js/visitors-counter.js"></script>
  <script src="assets/js/cookie-consent.js"></script>



  <div id="cookie-consent" role="dialog" aria-live="polite" aria-label="Aviso de cookies"></div>

  <script src="assets/js/cookie.js" defer></script>

<!-- integração mínima: visitantes + cart + consent -->
<script src="/assets/js/visitors.js" defer></script>
<script type="module" src="/assets/js/cart.js"></script>
<script type="module">
  import { initCookieBanner, loadPlausibleOnConsent } from '/assets/js/utils.js';
  initCookieBanner('.cookie-banner');
  loadPlausibleOnConsent('SEU-DOMINIO');
</script>

<script type="module" src="/assets/js/shop.js"></script>
<script defer src="/assets/js/search.js"></script>

</body>

</html>